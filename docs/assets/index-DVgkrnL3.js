var D=Object.defineProperty;var F=(h,t,e)=>t in h?D(h,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):h[t]=e;var g=(h,t,e)=>F(h,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();class C{constructor(t,e){g(this,"canvas");g(this,"ctx");this.canvas=document.createElement("canvas"),this.canvas.width=t,this.canvas.height=e;const o=this.canvas.getContext("2d");if(!o)throw new Error("Failed to get 2D context");this.ctx=o}static fromCanvas(t){const e=new C(t.width,t.height);e.canvas=t;const o=t.getContext("2d");if(!o)throw new Error("Failed to get 2D context");return e.ctx=o,e}static async fromImage(t){const e=new C(t.width,t.height);return e.ctx.drawImage(t,0,0),e}static async loadImage(t){return new Promise((e,o)=>{const i=new Image;i.onload=()=>e(i),i.onerror=o,i.src=t})}getCanvas(){return this.canvas}getContext(){return this.ctx}getWidth(){return this.canvas.width}getHeight(){return this.canvas.height}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}fill(t){this.ctx.fillStyle=this.colorToString(t),this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}fillRect(t,e){this.ctx.fillStyle=this.colorToString(e),this.ctx.fillRect(t.x,t.y,t.width,t.height)}strokeRect(t,e,o){this.ctx.strokeStyle=this.colorToString(e),this.ctx.lineWidth=o,this.ctx.strokeRect(t.x+o/2,t.y+o/2,t.width-o,t.height-o)}drawLine(t,e,o,i,s,r){this.ctx.strokeStyle=this.colorToString(s),this.ctx.lineWidth=r,this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(o,i),this.ctx.stroke()}drawImage(t,e,o,i,s,r,n,l,a){const c=t instanceof C?t.getCanvas():t;this.ctx.drawImage(c,e,o,i,s,r,n,l,a)}getImageData(t){return t?this.ctx.getImageData(t.x,t.y,t.width,t.height):this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height)}putImageData(t,e,o){this.ctx.putImageData(t,e,o)}getPixel(t,e){const o=this.ctx.getImageData(t,e,1,1).data;return{r:o[0],g:o[1],b:o[2],a:o[3]}}setPixel(t,e,o){const i=this.ctx.createImageData(1,1);i.data[0]=o.r,i.data[1]=o.g,i.data[2]=o.b,i.data[3]=o.a,this.ctx.putImageData(i,t,e)}detectContentBounds(t,e=10){const i=this.getImageData(t).data,s=t.width,r=t.height;let n=s,l=r,a=0,c=0,d=!1;for(let u=0;u<r;u++)for(let f=0;f<s;f++){const p=(u*s+f)*4;i[p+3]>e&&(d=!0,f<n&&(n=f),u<l&&(l=u),f>a&&(a=f),u>c&&(c=u))}return d?{minX:n,minY:l,maxX:a,maxY:c}:null}drawResized(t,e,o){this.ctx.drawImage(t.getCanvas(),e.x,e.y,e.width,e.height,o.x,o.y,o.width,o.height)}toDataURL(t="image/png"){return this.canvas.toDataURL(t)}toBlob(t="image/png"){return new Promise((e,o)=>{this.canvas.toBlob(i=>{i?e(i):o(new Error("Failed to create blob"))},t)})}downloadAsFile(t){const e=document.createElement("a");e.download=t,e.href=this.toDataURL(),e.click()}clone(){const t=new C(this.canvas.width,this.canvas.height);return t.ctx.drawImage(this.canvas,0,0),t}resize(t,e){const o=new C(t,e);return o.ctx.drawImage(this.canvas,0,0,t,e),o}colorToString(t){return`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a/255})`}static hexToColor(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:255}:{r:0,g:0,b:0,a:255}}static colorToHex(t){const e=o=>o.toString(16).padStart(2,"0");return`#${e(t.r)}${e(t.g)}${e(t.b)}`}}const k=[0,2,10,8,4,6,14,12,5,7,15,13,1,3,11,9];function G(){const h=[];for(let t=0;t<16;t++)h.push(k[t]);return h.push(79),h.push(143),h.push(47),h.push(31),h.push(63),h.push(207),h.push(159),h.push(111),h.push(95),h.push(175),h.push(191),h.push(127),h.push(223),h.push(239),h.push(255),h.push(70),h.push(35),h.push(39),h.push(71),h.push(103),h.push(140),h.push(25),h.push(29),h.push(141),h.push(157),h.push(142),h.push(78),h.push(206),h.push(27),h.push(43),h.push(59),h}const A=G();class x{constructor(t){g(this,"config");this.config=t}generate(){const{tileFormat:t,tileSize:e,padding:o,offset:i}=this.config;if(t==="platformer")return this.generatePlatformerTemplate();const s=t===16?k:A,r=t===16?4:8,n=t===16?4:6,l=i+r*(e+o),a=i+n*(e+o),c=new C(l,a);for(let d=0;d<s.length;d++){const u=d%r,f=Math.floor(d/r),p=i+u*(e+o),I=i+f*(e+o);this.drawTile(c,p,I,s[d])}return c}generatePlatformerTemplate(){const{tileSize:t,padding:e,offset:o}=this.config,i=4,s=4,r=o+i*(t+e),n=o+s*(t+e),l=new C(r,n),a=l.getContext();return this.drawPlatformerTile(l,a,0,0,"floor"),this.drawPlatformerTile(l,a,1,0,"ceiling"),this.drawPlatformerTile(l,a,2,0,"wall_left"),this.drawPlatformerTile(l,a,3,0,"wall_right"),this.drawPlatformerTile(l,a,0,1,"slope_45_up"),this.drawPlatformerTile(l,a,1,1,"slope_45_down"),this.drawPlatformerTile(l,a,2,1,"slope_45_ceiling_up"),this.drawPlatformerTile(l,a,3,1,"slope_45_ceiling_down"),this.drawPlatformerTile(l,a,0,2,"slope_30_up"),this.drawPlatformerTile(l,a,1,2,"slope_30_down"),this.drawPlatformerTile(l,a,2,2,"slope_30_ceiling_up"),this.drawPlatformerTile(l,a,3,2,"slope_30_ceiling_down"),this.drawPlatformerTile(l,a,0,3,"slope_15_up"),this.drawPlatformerTile(l,a,1,3,"slope_15_down"),this.drawPlatformerTile(l,a,2,3,"slope_15_ceiling_up"),this.drawPlatformerTile(l,a,3,3,"slope_15_ceiling_down"),l}drawPlatformerTile(t,e,o,i,s){const{tileSize:r,padding:n,offset:l,fillColor:a}=this.config,c=l+o*(r+n),d=l+i*(r+n);switch(e.fillStyle=this.colorToStyle(a),s){case"floor":e.fillRect(c,d+r/2,r,r/2);break;case"ceiling":e.fillRect(c,d,r,r/2);break;case"wall_left":e.fillRect(c,d,r/2,r);break;case"wall_right":e.fillRect(c+r/2,d,r/2,r);break;case"slope_45_up":this.drawSlopePolygon(e,c,d,r,45,!1,!1);break;case"slope_45_down":this.drawSlopePolygon(e,c,d,r,45,!0,!1);break;case"slope_45_ceiling_up":this.drawSlopePolygon(e,c,d,r,45,!1,!0);break;case"slope_45_ceiling_down":this.drawSlopePolygon(e,c,d,r,45,!0,!0);break;case"slope_30_up":this.drawSlopePolygon(e,c,d,r,30,!1,!1);break;case"slope_30_down":this.drawSlopePolygon(e,c,d,r,30,!0,!1);break;case"slope_30_ceiling_up":this.drawSlopePolygon(e,c,d,r,30,!1,!0);break;case"slope_30_ceiling_down":this.drawSlopePolygon(e,c,d,r,30,!0,!0);break;case"slope_15_up":this.drawSlopePolygon(e,c,d,r,15,!1,!1);break;case"slope_15_down":this.drawSlopePolygon(e,c,d,r,15,!0,!1);break;case"slope_15_ceiling_up":this.drawSlopePolygon(e,c,d,r,15,!1,!0);break;case"slope_15_ceiling_down":this.drawSlopePolygon(e,c,d,r,15,!0,!0);break}}drawSlopePolygon(t,e,o,i,s,r,n){const l=i*Math.tan(s*Math.PI/180),a=Math.min(l,i);t.beginPath(),n?r?(t.moveTo(e,o),t.lineTo(e,o+a),t.lineTo(e+i,o),t.lineTo(e,o)):(t.moveTo(e,o),t.lineTo(e+i,o),t.lineTo(e+i,o+a),t.lineTo(e,o)):r?(t.moveTo(e,o+i),t.lineTo(e,o+i-a),t.lineTo(e+i,o+i),t.lineTo(e,o+i)):(t.moveTo(e,o+i),t.lineTo(e+i,o+i),t.lineTo(e+i,o+i-a),t.lineTo(e,o+i)),t.closePath(),t.fill()}colorToStyle(t){return`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a/255})`}getBorderColor(t){const{detailedColorMode:e,detailedColors:o,borderColor:i}=this.config;return e&&o?o[t]:i}drawTile(t,e,o,i){const{tileSize:s,fillColor:r,borderWidth:n}=this.config,l=t.getContext();t.fillRect({x:e,y:o,width:s,height:s},r),i&1||(l.fillStyle=this.colorToStyle(this.getBorderColor("top")),l.fillRect(e,o,s,n)),i&2||(l.fillStyle=this.colorToStyle(this.getBorderColor("right")),l.fillRect(e+s-n,o,n,s)),i&4||(l.fillStyle=this.colorToStyle(this.getBorderColor("bottom")),l.fillRect(e,o+s-n,s,n)),i&8||(l.fillStyle=this.colorToStyle(this.getBorderColor("left")),l.fillRect(e,o,n,s));const a=this.getBorderColor("corner");l.fillStyle=this.colorToStyle(a),!(i&1)&&!(i&8)&&l.fillRect(e,o,n,n),!(i&1)&&!(i&2)&&l.fillRect(e+s-n,o,n,n),!(i&4)&&!(i&2)&&l.fillRect(e+s-n,o+s-n,n,n),!(i&4)&&!(i&8)&&l.fillRect(e,o+s-n,n,n),this.config.tileFormat===47&&(i&1&&i&8&&!(i&16)&&l.fillRect(e,o,n,n),i&1&&i&2&&!(i&32)&&l.fillRect(e+s-n,o,n,n),i&4&&i&2&&!(i&64)&&l.fillRect(e+s-n,o+s-n,n,n),i&4&&i&8&&!(i&128)&&l.fillRect(e,o+s-n,n,n))}static drawGrid(t,e){const{tileFormat:o,tileSize:i,padding:s,offset:r}=e,n=o===16?4:8,l=o===16?4:6,a={r:128,g:128,b:128,a:180},c=t.getWidth(),d=t.getHeight();for(let u=0;u<=n;u++){const f=r+u*(i+s);f>=0&&f<=c&&t.drawLine(f,0,f,d,a,1)}for(let u=0;u<=l;u++){const f=r+u*(i+s);f>=0&&f<=d&&t.drawLine(0,f,c,f,a,1)}}static getDimensions(t){const{tileFormat:e,tileSize:o,padding:i,offset:s}=t;let r,n;e==="platformer"?(r=4,n=4):(r=e===16?4:8,n=e===16?4:6);const l=s+r*(o+i),a=s+n*(o+i);return{width:l,height:a,cols:r,rows:n}}}class O{constructor(t){g(this,"config");this.config=t}adjust(t){const{tileFormat:e,tileSize:o,padding:i,offset:s}=this.config,r=x.getDimensions(this.config),n=new C(r.width,r.height),l=[],a=e===16?16:47,c=r.cols;for(let d=0;d<a;d++){const u=d%c,f=Math.floor(d/c),p=s+u*(o+i),I=s+f*(o+i),T={x:p,y:I,width:o,height:o},b=this.estimateSourceTileRect(t,d,c,a),v=t.detectContentBounds(b);let y;if(v){const m={x:b.x+v.minX,y:b.y+v.minY,width:v.maxX-v.minX+1,height:v.maxY-v.minY+1},S=o/m.width,B=o/m.height,w=Math.min(S,B),P=m.width*w,E=m.height*w,j=(o-P)/2,R=(o-E)/2;n.drawImage(t.getCanvas(),m.x,m.y,m.width,m.height,p+j,I+R,P,E),y={index:d,original:b,detected:m,adjusted:{x:p+j,y:I+R,width:P,height:E},scale:{x:w,y:w},offset:{x:j,y:R}}}else n.drawImage(t.getCanvas(),b.x,b.y,b.width,b.height,p,I,o,o),y={index:d,original:b,detected:null,adjusted:T,scale:{x:1,y:1},offset:{x:0,y:0}};l.push(y)}return{processor:n,adjustments:l}}estimateSourceTileRect(t,e,o,i){const{tileSize:s,padding:r,offset:n}=this.config,l=e%o,a=Math.floor(e/o),c=t.getWidth(),d=t.getHeight(),u=n+o*(s+r),f=Math.ceil(i/o),p=n+f*(s+r),I=c/u,T=d/p,b=Math.round((n+l*(s+r))*I),v=Math.round((n+a*(s+r))*T),y=Math.round(s*I),m=Math.round(s*T);return{x:Math.max(0,Math.min(b,c-y)),y:Math.max(0,Math.min(v,d-m)),width:Math.min(y,c-b),height:Math.min(m,d-v)}}adjustWithContentDetection(t){const{tileFormat:e,tileSize:o,padding:i,offset:s}=this.config,r=x.getDimensions(this.config),n=new C(r.width,r.height),l=[],a=e===16?16:47,c=r.cols,d=[];for(let p=0;p<a;p++){const I=this.estimateSourceTileRect(t,p,c,a),T=t.detectContentBounds(I);T&&d.push({width:T.maxX-T.minX+1,height:T.maxY-T.minY+1})}let u=o,f=o;d.length>0&&(u=d.reduce((p,I)=>p+I.width,0)/d.length,f=d.reduce((p,I)=>p+I.height,0)/d.length);for(let p=0;p<a;p++){const I=p%c,T=Math.floor(p/c),b=s+I*(o+i),v=s+T*(o+i),y={x:b,y:v,width:o,height:o},m=this.estimateSourceTileRect(t,p,c,a),S=t.detectContentBounds(m);let B;if(S){const w={x:m.x+S.minX,y:m.y+S.minY,width:S.maxX-S.minX+1,height:S.maxY-S.minY+1},P=Math.min(o/u,o/f),E=w.width*P,j=w.height*P,R=Math.min(E,o),W=Math.min(j,o),_=Math.min(R/w.width,W/w.height),M=(o-w.width*_)/2,L=(o-w.height*_)/2;n.drawImage(t.getCanvas(),w.x,w.y,w.width,w.height,b+M,v+L,w.width*_,w.height*_),B={index:p,original:m,detected:w,adjusted:{x:b+M,y:v+L,width:w.width*_,height:w.height*_},scale:{x:_,y:_},offset:{x:M,y:L}}}else n.drawImage(t.getCanvas(),m.x,m.y,m.width,m.height,b,v,o,o),B={index:p,original:m,detected:null,adjusted:y,scale:{x:1,y:1},offset:{x:0,y:0}};l.push(B)}return{processor:n,adjustments:l}}}class X{constructor(){g(this,"tileFormatSelect");g(this,"tileSizeInput");g(this,"tilePaddingInput");g(this,"tileOffsetInput");g(this,"fillColorInput");g(this,"borderColorInput");g(this,"borderWidthInput");g(this,"detailedColorModeCheckbox");g(this,"detailedColorSettings");g(this,"detailedColorModeGroup");g(this,"borderColorGroup");g(this,"borderWidthGroup");g(this,"borderColorTopInput");g(this,"borderColorBottomInput");g(this,"borderColorLeftInput");g(this,"borderColorRightInput");g(this,"borderColorCornerInput");g(this,"saveTemplateBtn");g(this,"spriteInput");g(this,"autoAdjustBtn");g(this,"saveAdjustedBtn");g(this,"templateCanvas");g(this,"originalCanvas");g(this,"adjustedCanvas");g(this,"templateProcessor",null);g(this,"originalProcessor",null);g(this,"adjustedProcessor",null);this.initElements(),this.bindEvents(),this.generateTemplate()}initElements(){this.tileFormatSelect=document.getElementById("tileFormat"),this.tileSizeInput=document.getElementById("tileSize"),this.tilePaddingInput=document.getElementById("tilePadding"),this.tileOffsetInput=document.getElementById("tileOffset"),this.fillColorInput=document.getElementById("fillColor"),this.borderColorInput=document.getElementById("borderColor"),this.borderWidthInput=document.getElementById("borderWidth"),this.detailedColorModeCheckbox=document.getElementById("detailedColorMode"),this.detailedColorSettings=document.getElementById("detailedColorSettings"),this.detailedColorModeGroup=document.getElementById("detailedColorModeGroup"),this.borderColorGroup=document.getElementById("borderColorGroup"),this.borderWidthGroup=document.getElementById("borderWidthGroup"),this.borderColorTopInput=document.getElementById("borderColorTop"),this.borderColorBottomInput=document.getElementById("borderColorBottom"),this.borderColorLeftInput=document.getElementById("borderColorLeft"),this.borderColorRightInput=document.getElementById("borderColorRight"),this.borderColorCornerInput=document.getElementById("borderColorCorner"),this.saveTemplateBtn=document.getElementById("saveTemplateBtn"),this.spriteInput=document.getElementById("spriteInput"),this.autoAdjustBtn=document.getElementById("autoAdjustBtn"),this.saveAdjustedBtn=document.getElementById("saveAdjustedBtn"),this.templateCanvas=document.getElementById("templateCanvas"),this.originalCanvas=document.getElementById("originalCanvas"),this.adjustedCanvas=document.getElementById("adjustedCanvas")}bindEvents(){this.saveTemplateBtn.addEventListener("click",()=>this.saveTemplate()),this.spriteInput.addEventListener("change",e=>this.loadSprite(e)),this.autoAdjustBtn.addEventListener("click",()=>this.autoAdjust()),this.saveAdjustedBtn.addEventListener("click",()=>this.saveAdjusted()),this.detailedColorModeCheckbox.addEventListener("change",()=>{this.toggleDetailedColorSettings(),this.generateTemplate()}),this.tileFormatSelect.addEventListener("change",()=>{this.updateUIForTemplateType()}),this.updateUIForTemplateType(),[this.tileFormatSelect,this.tileSizeInput,this.tilePaddingInput,this.tileOffsetInput,this.fillColorInput,this.borderColorInput,this.borderWidthInput,this.borderColorTopInput,this.borderColorBottomInput,this.borderColorLeftInput,this.borderColorRightInput,this.borderColorCornerInput].forEach(e=>{e.addEventListener("change",()=>this.generateTemplate())})}toggleDetailedColorSettings(){this.detailedColorModeCheckbox.checked?(this.detailedColorSettings.classList.remove("hidden"),this.borderColorGroup.classList.add("hidden")):(this.detailedColorSettings.classList.add("hidden"),this.borderColorGroup.classList.remove("hidden"))}updateUIForTemplateType(){this.tileFormatSelect.value==="platformer"?(this.borderColorGroup.classList.add("hidden"),this.borderWidthGroup.classList.add("hidden"),this.detailedColorModeGroup.classList.add("hidden"),this.detailedColorSettings.classList.add("hidden")):(this.borderWidthGroup.classList.remove("hidden"),this.detailedColorModeGroup.classList.remove("hidden"),this.toggleDetailedColorSettings())}getConfig(){const t=parseInt(this.tileSizeInput.value)||64,e=parseInt(this.borderWidthInput.value)||10,o=this.detailedColorModeCheckbox.checked,i=this.tileFormatSelect.value;let s;i==="platformer"?s="platformer":s=parseInt(i);const r={tileFormat:s,tileSize:t,padding:parseInt(this.tilePaddingInput.value)||0,offset:parseInt(this.tileOffsetInput.value)||0,fillColor:C.hexToColor(this.fillColorInput.value),borderColor:C.hexToColor(this.borderColorInput.value),borderWidth:Math.min(e,Math.floor(t/2)),detailedColorMode:o};return o&&(r.detailedColors={top:C.hexToColor(this.borderColorTopInput.value),bottom:C.hexToColor(this.borderColorBottomInput.value),left:C.hexToColor(this.borderColorLeftInput.value),right:C.hexToColor(this.borderColorRightInput.value),corner:C.hexToColor(this.borderColorCornerInput.value)}),r}generateTemplate(){const t=this.getConfig(),e=new x(t);this.templateProcessor=e.generate(),this.renderPreviewWithBackground(this.templateProcessor,this.templateCanvas,t)}saveTemplate(){if(!this.templateProcessor){alert("テンプレートを生成してください");return}const t=this.tileFormatSelect.value,e=t==="platformer"?"sprite_template_platformer.png":`sprite_template_${t}tiles.png`;this.templateProcessor.downloadAsFile(e)}async loadSprite(t){var i;const o=(i=t.target.files)==null?void 0:i[0];if(o)try{const s=URL.createObjectURL(o),r=await C.loadImage(s);this.originalProcessor=await C.fromImage(r),URL.revokeObjectURL(s);const n=this.getConfig();this.renderPreviewWithBackground(this.originalProcessor,this.originalCanvas,n),this.adjustedProcessor=null,this.clearCanvas(this.adjustedCanvas)}catch(s){console.error("Failed to load image:",s),alert("画像の読み込みに失敗しました")}}autoAdjust(){if(!this.originalProcessor){alert("スプライトシート画像を読み込んでください");return}const t=this.getConfig(),o=new O(t).adjustWithContentDetection(this.originalProcessor);this.adjustedProcessor=o.processor,this.renderPreviewWithBackground(this.adjustedProcessor,this.adjustedCanvas,t),console.log("Adjustments:",o.adjustments)}saveAdjusted(){if(!this.adjustedProcessor){alert("自動調整を実行してください");return}const t=this.tileFormatSelect.value,e=t==="platformer"?"sprite_adjusted_platformer.png":`sprite_adjusted_${t}tiles.png`;this.adjustedProcessor.downloadAsFile(e)}renderPreviewWithBackground(t,e,o){const i=x.getDimensions(o),s=t.getWidth(),r=t.getHeight(),n=Math.max(i.width,s),l=Math.max(i.height,r);e.width=n,e.height=l;const a=e.getContext("2d");a&&(a.fillStyle="#3a3a3a",a.fillRect(0,0,n,l),a.drawImage(t.getCanvas(),0,0),this.drawGridOnCanvas(a,o,s,r))}drawGridOnCanvas(t,e,o,i){const{tileFormat:s,tileSize:r,padding:n,offset:l}=e,a=s===16?4:8,c=s===16?4:6;t.strokeStyle="rgba(128, 128, 128, 0.7)",t.lineWidth=1;for(let d=0;d<=a;d++){const u=l+d*(r+n);u>=0&&u<=o&&(t.beginPath(),t.moveTo(u+.5,0),t.lineTo(u+.5,i),t.stroke())}for(let d=0;d<=c;d++){const u=l+d*(r+n);u>=0&&u<=i&&(t.beginPath(),t.moveTo(0,u+.5),t.lineTo(o,u+.5),t.stroke())}}clearCanvas(t){const e=t.getContext("2d");e&&e.clearRect(0,0,t.width,t.height)}}document.addEventListener("DOMContentLoaded",()=>{new X});
